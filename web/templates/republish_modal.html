<script src="/static/js/datetime_datepicker.js"></script>
<div
   class="modal fade"
   id="republishModal"
   tabindex="-1"
   role="dialog"
   aria-labelledby="republishModalLabel"
   aria-hidden="true"
   >
   <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="republishModalLabel">Выберите новую дату публикации:</h5>
            <button
               type="button"
               class="close"
               data-dismiss="modal"
               aria-label="Close"
               >
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <form id="republishForm">
               <div class="form-group">
                  <div
                     class="input-group date"
                     id="datetimepicker1"
                     data-target-input="nearest"
                     >
                     <input
                        type="text"
                        class="form-control datetimepicker-input"
                        data-target="#datetimepicker1"
                        id="new_publication_date"
                        static
                        name="new_publication_date"
                        required
                        />
                     <div
                        class="input-group-append"
                        data-target="#datetimepicker1"
                        data-toggle="datetimepicker"
                        >
                        <div class="input-group-text">
                           <i class="fa fa-calendar"></i>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="form-group">
                <input type="hidden" id="timezone" name="timezone" />
              </div>
            </form>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Отмена
            </button>
            <button type="button" class="btn btn-primary" id="republishButton">
            Выбрать
            </button>
         </div>
      </div>
   </div>
</div>
<script src="/static/js/timezone.js"></script>
<script type="text/javascript">

   $(function () {
     $('#datetimepicker1').datetimepicker();
   });
   var currentDate = new Date();

  // Функция для форматирования чисел с добавлением ведущего нуля
  function addLeadingZero(number) {
    return number < 10 ? "0" + number : number;
  }

  // Форматирование даты и времени в нужном формате
  var currentDateTime =
    addLeadingZero(currentDate.getDate()) +
    "." +
    addLeadingZero(currentDate.getMonth() + 1) +
    "." +
    currentDate.getFullYear() +
    " " +
    addLeadingZero(currentDate.getHours()) +
    ":" +
    addLeadingZero(currentDate.getMinutes());

  // Установка текущего времени в поле ввода
  $("#new_publication_date").val(currentDateTime);
</script>
